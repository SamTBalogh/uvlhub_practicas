# Commit Convention (Conventional Commits)

## Purpose
This repository uses **Conventional Commits** to keep history readable, enable predictable automation (linting, changelogs, releases), and make changes easy to audit.

All contributors **must** follow this format.

## Commit Message Format
```text
<type>(<scope>): <subject>
```

### Required
- `type` is **required**
- `subject` is **required**
- `scope` is **recommended**

## Types (Allowed)

Use one of the following `type` values:

- `feat`: new feature for users
- `fix`: bug fix for users
- `docs`: documentation-only changes
- `style`: formatting only (no code behavior change), e.g., whitespace, prettier
- `refactor`: code change that is neither a feature nor a bug fix
- `test`: adding or updating tests
- `build`: build system or dependency changes (package manager, tooling)
- `ci`: CI/CD configuration changes (workflows, pipelines, automation)
- `chore`: maintenance tasks (small repo upkeep not covered above)
- `revert`: revert a previous commit (should be generated by `git revert`)

**Notes**
- Prefer `ci` for `.github/workflows/*` and automation changes.
- Prefer `build` for dependency upgrades and build tooling (when not CI-specific).
- Prefer `chore` for maintenance that does not fit `build`/`ci`.

## Scopes (Recommended)

Scopes should be short, consistent, and match the codebase structure.

Recommended scopes (examples):
- `api`
- `frontend`
- `auth`
- `infra`
- `db`
- `docs`
- `repo`
- `ci`
- `deps`
- `security`
- `tests`

**Rules**
- Use one scope per commit whenever possible.
- If a commit touches multiple areas, choose the dominant scope (or use `repo`).

## Subject Line Rules
- Use imperative mood: “add”, “fix”, “remove”, “update”, “refactor”
- Keep it short and specific (recommended ≤ 72 chars)
- Do not end with a period
- Do not capitalize every word (sentence case is preferred)

## Reverts

Use `git revert` to generate reverts (preferred).  
This produces a commit with type `revert` and a message referencing the original commit.

**Example**
```text
revert: feat(frontend): add card details modal

This reverts commit 1a2b3c4.
```

## Examples (Quick Reference)

- `feat(api): add endpoint to freeze card`
- `fix(frontend): prevent crash on empty card list`
- `docs(docs): add issue templates guide`
- `refactor(auth): simplify token validation`
- `ci(ci): add OWASP dependency-check workflow`
- `build(deps): bump requests to 2.32.0`
- `test(api): add login integration tests`
- `perf(api): reduce allocations in serializer`

## Common Mistakes to Avoid

- Missing type: `update login`
- Vague subject: `fix stuff`
- Mixed concerns in one commit: formatting + feature + refactor
- Using `feat` for docs or CI changes (use `docs` / `ci`)
- Inconsistent scopes (`front-end` vs `frontend`)

## Related Docs
- Branching strategy: `docs/BRANCHING_STRATEGY.md`
- CI/CD workflows: `docs/CI_CD_WORKFLOWS.md`
- Labels and automation: `docs/LABELS_GUIDE.md`
- Issue templates: `docs/ISSUES_TEMPLATES.md`
- Contributing flow: `CONTRIBUTING.md`